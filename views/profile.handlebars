<!-- Receives errors, newUser and user -->

<h2 class="page-title">My Profile</h2>
{{#if errors}}
      {{#each errors}}
        <div class="alert alert-danger">{{msg}}</div>
      {{/each}}
{{/if}}
<form method="post" action="/users/profile">
   <div class="form-group">
    <label>Name</label>
    <input type="text" class="form-control" placeholder="Enter name..." name="name" value="{{#if newUser.name}}{{newUser.name}}{{else}}{{user.name}}{{/if}}" autocomplete="username">
  </div>
  <!-- <div class="form-group">
    <label>Username</label>
    <input type="text" class="form-control" placeholder="Username" name="username">
  </div> -->
   <div class="form-group">
    <label>Email</label>
    <input type="email" class="form-control" placeholder="Enter email address..." name="email" value="{{#if newUser.email}}{{newUser.email}}{{else}}{{user.email}}{{/if}}">
  </div>
  <div class="form-group">
      <label class="form-check-label">
          <input type="checkbox" class="form-check-input" name="changePw" value="changePwIsChecked" onclick="checkChangePassword(this)" {{#if changePwIsChecked}}checked{{/if}}>  Change password
      </label>
  </div>

  <div class="col-sm-11 col-sm-offset-1">
      <div class="form-group">
        <label>Password</label>
        <input id="pwInput" type="password" class="form-control" placeholder="Enter new password..." name="password" value="{{#if newUser.password}}{{newUser.password}}{{/if}}" {{#if changePwIsChecked}}enabled{{else}}disabled{{/if}}>
      </div>
      <div class="form-group">
        <label>Confirm Password</label>
        <input id="confirmPwInput" type="password" class="form-control" placeholder="Confirm new password..." name="password2" value="{{#if password2}}{{password2}}{{/if}}" {{#if changePwIsChecked}}enabled{{else}}disabled{{/if}}>
      </div>
  </div>

  <button type="submit" class="btn btn-primary">Submit</button>
</form>

<script type="text/javascript" src="/scripts/profile.js"></script>
